define("static/todo/src/views/todos",["sea-modules/gallery/backbone/1.0.0/backbone","static/todo/src/common","sea-modules/jquery/jquery/1.10.1/jquery","sea-modules/gallery/underscore/1.4.4/underscore"],function(e,t,i){var s,l,o;s=e("sea-modules/gallery/backbone/1.0.0/backbone"),l=e("static/todo/src/common");var d=e("sea-modules/jquery/jquery/1.10.1/jquery"),n=e("sea-modules/gallery/underscore/1.4.4/underscore");o=s.View.extend({tagName:"li",template:n.template(d("#item-template").html()),events:{"click .toggle":"toggleCompleted","dblclick label":"edit","click .destroy":"clear","keypress .edit":"updateOnEnter","blur .edit":"close"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"visible",this.toggleVisible)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.toggleClass("completed",this.model.get("completed")),this.toggleVisible(),this.$input=this.$(".edit"),this},toggleVisible:function(){this.$el.toggleClass("hidden",this.isHidden())},isHidden:function(){var e=this.model.get("completed");return!e&&"completed"===l.TodoFilter||e&&"active"===l.TodoFilter},toggleCompleted:function(){this.model.toggle()},edit:function(){this.$el.addClass("editing"),this.$input.focus()},close:function(){var e=this.$input.val().trim();e?this.model.save({title:e}):this.clear(),this.$el.removeClass("editing")},updateOnEnter:function(e){e.which===l.ENTER_KEY&&this.close()},clear:function(){this.model.destroy()}}),i.exports=o});